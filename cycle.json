{
    "version": "1.0", 
    "about": {
        "description": "A demonstration stack with a simple CRUD API connected to redis.", 
        "version": "1.0.0"
    },
    "containers": {
        "api": {
            "name": "api",
            "stateful": false,
            "image": {
                "name": "api",
                "origin": {
                    "type": "docker-file",
                    "details": {
                        "build_file": "/Dockerfile",
                        "context_dir": "/"
                    }
                }
            },
            "config": {
                "network": {
                    "hostname": "api",
                    "ports": ["80:5000", "443:5000"],
                    "public": "enable"
                },
                "deploy": {
                    "instances": 3,
                    "strategy": "high-availability",
                }
            }
        },
        "redis": {
            "name": "redis",
            "stateful": true,
            "image": {
                "name": "redis",
                "origin": {
                    "type": "docker-hub", 
                    "details": {
                        "target": "redis:latest"
                    }
                }
            },
            "config": {
                "network": {
                    "hostname": "redis",
                    "ports": ["6379:6379"],
                    "public": "disable"
                },
                "deploy": {
                    "instances": 1
                }
            },
            "volumes": [
        {
          "local": {
            "max_size": "15G"
          },
          "destination": "/data",
          "read_only": false,
        }
    }
}
